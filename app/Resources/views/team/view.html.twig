{% extends "team/base.html.twig" %}

{% block title %}{{ team.name }} - {{ parent() }}{% endblock %}

{% block team_body %}
    <div>
        <a type="button" class="btn btn-default" href="{{ path('team_index') }}">
            <span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span>
            Teams list
        </a>

        {% if app.user.isAdministratorOf(team) or is_granted('ROLE_ADMIN') %}
            <a type="button" class="btn btn-default btn-warning btn-xs pull-right" value="Edit" href="{{ path("team_edit", {'id': team.id }) }}">
                <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
            </a>
        {% endif %}
    </div>

    <h2>{{ team.name }}</h2>

    <div class="row">
        <div class="col-md-6">
            <div class="panel panel-default">
                <div class="panel-heading">Administrators</div>
                <ul class="list-group">
                    {% for administrator in team.administrators %}
                        <li class="list-group-item">{{ administrator.username }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>

        <div class="col-md-6">
            <div class="panel panel-info">
                <div class="panel-heading">Members</div>
                <ul class="list-group">
                    {% for member in team.members %}
                        <li class="list-group-item">{{ member.username }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="panel panel-info">
                <div class="panel-heading">Team projects</div>
                <ul class="list-group">
                    {% for project in team.projects %}
                        <li class="list-group-item">{{ project.name }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>

        <div class="col-md-6">
            <div class="panel panel-info">
                <div class="panel-heading">Partner projects</div>
                <ul class="list-group">
                    {% for project in team.getPartnerProjects %}
                        <li class="list-group-item">{{ project.name }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
{% endblock %}
